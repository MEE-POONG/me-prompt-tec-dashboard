generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

type InternContact {
  email String?
  phone String?
}

type InternName {
  display String
  first   String
  last    String
}

type InternResume {
  links InternResumeLinks[]
}

type InternResumeLinks {
  label String
  url   String
}

type MemberName {
  display String
  first   String
  last    String
}

type MemberSocials {
  facebook  String
  github    String
  instagram String
  linkedin  String
  website   String
}

model BoardActivity {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  action    String
  boardId   String   @db.ObjectId
  createdAt DateTime @db.Date
  projectId String?  @db.ObjectId
  target    String
  taskId    String?  @db.ObjectId
  user      String
}

model BoardColumn {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  boardId   String   @db.ObjectId
  color     String?
  createdAt DateTime @db.Date
  order     BigInt
  title     String
  updatedAt DateTime @db.Date
}

model BoardLabel {
  id      String @id @default(auto()) @map("_id") @db.ObjectId
  /// Field referred in an index, but found no data to define the type.
  boardId Json?
  /// Field referred in an index, but found no data to define the type.
  name    Json?

  @@unique([boardId, name])
}

model BoardMember {
  id      String @id @default(auto()) @map("_id") @db.ObjectId
  avatar  String
  boardId String @db.ObjectId
  color   String
  name    String
  role    String
}

model BoardTask {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  attachments BigInt
  checklist   BigInt
  columnId    String   @db.ObjectId
  comments    BigInt
  createdAt   DateTime @db.Date
  isArchived  Boolean
  order       BigInt
  priority    String
  title       String
  updatedAt   DateTime @db.Date
}

model ChecklistItem {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model CloudflareImage {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId
  cloudflareId String   @unique
  createdAt    DateTime @db.Date
  fieldName    String?
  filename     String
  format       String
  isActive     Boolean
  publicUrl    String
  relatedId    String?  @db.ObjectId
  relatedType  String?
  size         BigInt
  /// Could not determine type: the field only had null or empty values in the sample set.
  tags         Json?
  updatedAt    DateTime @db.Date
  /// Field referred in an index, but found no data to define the type.
  uploadedBy   Json?
  variants     String[]

  @@index([relatedType, relatedId])
  @@index([uploadedBy])
}

model Column {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model Company {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model ContactMessage {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt    DateTime @db.Date
  date         DateTime @db.Date
  email        String
  /// Could not determine type: the field only had null or empty values in the sample set.
  handledById  Json?
  isStarred    Boolean
  message      String
  name         String
  phone        String
  /// Could not determine type: the field only had null or empty values in the sample set.
  portfolioUrl Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  resumeUrl    Json?
  source       String
  status       String
  subject      String
  updatedAt    DateTime @db.Date

  @@index([email])
  @@index([status])
}

model Intern {
  id            String        @id @default(auto()) @map("_id") @db.ObjectId
  avatar        String
  contact       InternContact
  coopType      String
  createdAt     DateTime      @db.Date
  faculty       String
  gen           String
  major         String
  name          InternName
  portfolioSlug String        @unique
  resume        InternResume
  status        String
  studentId     String
  university    String
  updatedAt     DateTime      @db.Date
}

model InternshipPosition {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt   DateTime @db.Date
  description String
  isOpen      Boolean
  title       String
  updatedAt   DateTime @db.Date
}

model KanbanColumn {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model KanbanTask {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model MOU {
  id         String @id @default(auto()) @map("_id") @db.ObjectId
  /// Field referred in an index, but found no data to define the type.
  faculty    Json?
  /// Field referred in an index, but found no data to define the type.
  signedDate Json?
  /// Field referred in an index, but found no data to define the type.
  university Json?

  @@index([university, faculty, signedDate])
}

model MediaAsset {
  id        String @id @default(auto()) @map("_id") @db.ObjectId
  /// Field referred in an index, but found no data to define the type.
  ownerId   Json?
  /// Field referred in an index, but found no data to define the type.
  ownerType Json?

  @@index([ownerType, ownerId])
}

model Member {
  id         String        @id @default(auto()) @map("_id") @db.ObjectId
  bio        String
  createdAt  DateTime      @db.Date
  department String
  isActive   Boolean
  name       MemberName
  photo      String
  /// Could not determine type: the field only had null or empty values in the sample set.
  skills     Json?
  slug       String        @unique
  socials    MemberSocials
  title      String
  updatedAt  DateTime      @db.Date
}

model NewsletterSubscriber {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt DateTime @db.Date
  email     String   @unique
  source    String

  @@index([createdAt])
}

model Notification {
  id        String @id @default(auto()) @map("_id") @db.ObjectId
  /// Field referred in an index, but found no data to define the type.
  boardId   Json?
  /// Field referred in an index, but found no data to define the type.
  createdAt Json?

  @@index([boardId])
  @@index([createdAt])
}

model Partner {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt   DateTime @db.Date
  description String
  logo        String
  name        String
  status      String
  type        String
  updatedAt   DateTime @db.Date
  website     String
}

model PlanBoard {
  id      String @id @default(auto()) @map("_id") @db.ObjectId
  /// Field referred in an index, but found no data to define the type.
  ownerId Json?

  @@index([ownerId])
}

model Project {
  id               String   @id @default(auto()) @map("_id") @db.ObjectId
  color            String
  cover            String
  createdAt        DateTime @db.Date
  description      String
  /// Could not determine type: the field only had null or empty values in the sample set.
  endDate          Json?
  featured         Boolean
  /// Could not determine type: the field only had null or empty values in the sample set.
  gallery          Json?
  internalProgress BigInt
  isCustomColor    Boolean
  /// Could not determine type: the field only had null or empty values in the sample set.
  links            Json?
  slug             String   @unique
  /// Could not determine type: the field only had null or empty values in the sample set.
  startDate        Json?
  status           String
  summary          String
  /// Could not determine type: the field only had null or empty values in the sample set.
  tags             Json?
  /// Could not determine type: the field only had null or empty values in the sample set.
  techStack        Json?
  title            String
  updatedAt        DateTime @db.Date

  @@index([status])
  @@index([featured])
  @@index([title])
}

model ProjectBoard {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  color       String
  createdAt   DateTime @db.Date
  description String
  name        String   @unique
  updatedAt   DateTime @db.Date
  visibility  String
}

model ProjectCollaborator {
  id        String @id @default(auto()) @map("_id") @db.ObjectId
  /// Field referred in an index, but found no data to define the type.
  projectId Json?
  /// Field referred in an index, but found no data to define the type.
  userId    Json?

  @@unique([userId, projectId])
}

model ProjectIntern {
  id        String @id @default(auto()) @map("_id") @db.ObjectId
  /// Field referred in an index, but found no data to define the type.
  internId  Json?
  /// Field referred in an index, but found no data to define the type.
  projectId Json?

  @@unique([projectId, internId])
}

model ProjectMember {
  id        String @id @default(auto()) @map("_id") @db.ObjectId
  /// Field referred in an index, but found no data to define the type.
  memberId  Json?
  /// Field referred in an index, but found no data to define the type.
  projectId Json?

  @@unique([projectId, memberId])
}

model Subscriber {
  id    String @id @default(auto()) @map("_id") @db.ObjectId
  /// Field referred in an index, but found no data to define the type.
  email Json?  @unique
}

model Task {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model TaskAssignee {
  id     String @id @default(auto()) @map("_id") @db.ObjectId
  /// Field referred in an index, but found no data to define the type.
  taskId Json?
  /// Field referred in an index, but found no data to define the type.
  userId Json?

  @@unique([taskId, userId])
}

model TaskComment {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model TaskMember {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model User {
  id               String    @id @default(auto()) @map("_id") @db.ObjectId
  avatar           String?
  createdAt        DateTime  @db.Date
  email            String    @unique
  isActive         Boolean
  isVerified       Boolean
  name             String
  passwordHash     String
  phone            String
  position         String
  resetToken       String?
  resetTokenExpire DateTime? @db.Date
  role             String
  tokenExpire      DateTime? @db.Date
  updatedAt        DateTime  @db.Date
  verifyToken      String?

  @@index([role])
}

model pageviews {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt DateTime @db.Date
  ipAddress String
  page      String
  /// Could not determine type: the field only had null or empty values in the sample set.
  referrer  Json?
  sessionId String
  userAgent String
}
