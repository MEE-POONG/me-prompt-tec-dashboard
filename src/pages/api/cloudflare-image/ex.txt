[Example Usage: Frontend Code]

// 1. Upload File
const handleUpload = async (file: File) => {
  // Step 1: Upload to Cloudflare (via /api/cloudflare-image/upload)
  const formData = new FormData();
  formData.append("file", file);

  const uploadRes = await fetch("/api/cloudflare-image/upload", {
    method: "POST",
    body: formData,
  });

  const uploadResult = await uploadRes.json();
  if (!uploadResult.success) throw new Error(uploadResult.error);

  const cfData = uploadResult.data; // contains id, variants, etc.

  // Step 2: Save Metadata to Database (via /api/cloudflare-image)
  const dbPayload = {
    cloudflareId: cfData.id,
    filename: cfData.filename,
    publicUrl: cfData.variants[0],
    variants: cfData.variants,
    size: file.size, // optional if you want to pass from client, or server returns it if available
    format: file.type,
    modalName: "ProductImage", // custom field map example
    // ... any other fields for DB
  };

  const saveRes = await fetch("/api/cloudflare-image", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(dbPayload),
  });

  const saveResult = await saveRes.json();
  if (!saveResult.success) throw new Error(saveResult.error);

  console.log("Image Saved:", saveResult.data);
};


// 2. List Images
const fetchImages = async () => {
  const res = await fetch("/api/cloudflare-image");
  const data = await res.json();
  console.log("Images:", data);
};


// 3. Delete Image (by DB ID)
const handleDelete = async (dbId: string) => {
  const res = await fetch(`/api/cloudflare-image/${dbId}`, {
    method: "DELETE",
  });
  const result = await res.json();
  if (result.success) {
     console.log("Deleted successfully");
  }
};
